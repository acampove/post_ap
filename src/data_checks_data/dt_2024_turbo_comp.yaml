production:
  working_group: rd
  analysis     : btoxll_mva_2024
sample:
  names:
    - data_24_magdown_turbo_24c1
    - data_24_magdown_turbo_24c2
    - data_24_magdown_turbo_24c3
    - data_24_magdown_turbo_24c4
    - data_24_magup_turbo_24c1
    - data_24_magup_turbo_24c2
    - data_24_magup_turbo_24c3
drop_branches:
  includes:
    - NeutralIso
    - SMOG2
    - _EE2KK_
    - _EE2PiPi_
    - _K2P_
    - _K2Pi_
    - _KP2PK_
    - _P2K_
    - _DTF_
    - _MuMu2KK_
    - _MuMu2PiPi_
    - _MuMuK2KKPi_
    - _MuMuK2PiPiPi_
    - _POS_COV_MATRIX_
    - _MOM_POS_COV_MATRIX_
    - _MOM_COV_MATRIX_
    - _POSITION_STATEAT_
    - CutBasedIncl
    - _InclDet
    - _RICH_THRESHOLD_
    - _Hlt1Beam
    - _Hlt1BGI
    - _Hlt1D2K
    - _Hlt1D2P
    - _Hlt1Det
    - _Hlt1DiElectron
    - _Hlt1DiMuon
    - _Hlt1DiPhoton
    - _Hlt1Displaced
    - _Hlt1Dst2
    - _Hlt1Error
    - _Hlt1GEC
    - _Hlt1KsToPiPi
    - _Hlt1LambdaLL
    - _Hlt1LowPtDiMuon
    - _Hlt1LowPtMuon
    - _Hlt1Material
    - _Hlt1MicroBias
    - _Hlt1NoBias
    - _Hlt1ODIN
    - _Hlt1OneMuon
    - _Hlt1Passthrough
    - _Hlt1Pi02GammaGamma
    - _Hlt1RICH1
    - _Hlt1RICH2
    - _Hlt1SingleHighPt
    - _Hlt1SMOG
    - _Hlt1TAEPassthrough
    - _Hlt1Velo
    - _Hlt1XiOmegaLLL
  starts_with:
    - Hlt1
    - B_K2Pi_DTF_
    - K_
define:
  nTracks                           : nBackTracks + nDownstreamTracks + nLongTracks + nTTracks + nUpstreamTracks + nVeloTracks
  B_VTXISODCHI2ONETRACK             : B_VTXISO_B_OneTrack_DChi2Vtx_9p0_Smallest_DELTACHI2
  B_VTXISODCHI2MASSONETRACK         : B_VTXISO_B_OneTrack_DChi2Vtx_9p0_Smallest_DELTACHI2_MASS
  B_VTXISODCHI2TWOTRACK             : B_VTXISO_B_TwoTrack_DChi2Vtx_9p0_Smallest_DELTACHI2
  B_VTXISODCHI2MASSTWOTRACK         : B_VTXISO_B_TwoTrack_DChi2Vtx_9p0_Smallest_DELTACHI2_MASS
rename:
  B_DTF_PV_Jpsi_mass_const_M        : B_const_mass_M
  Lb_DTF_PV_Jpsi_mass_const_M       : B_const_mass_M
  B_DTF_PV_Psi2S_mass_const_M       : B_const_mass_psi2S_M
  Lb_DTF_PV_Psi2S_mass_const_M      : B_const_mass_psi2S_M
  #
  B_DTF_PV_Jpsi_mass_const_PX       : B_const_mass_PX
  Lb_DTF_PV_Jpsi_mass_const_PX      : B_const_mass_PX
  B_DTF_PV_Psi2S_mass_const_PX      : B_const_mass_psi2S_PX
  Lb_DTF_PV_Psi2S_mass_const_PX     : B_const_mass_psi2S_PX
  #
  B_DTF_PV_Jpsi_mass_const_PY       : B_const_mass_PY
  Lb_DTF_PV_Jpsi_mass_const_PY      : B_const_mass_PY
  B_DTF_PV_Psi2S_mass_const_PY      : B_const_mass_psi2S_PY
  Lb_DTF_PV_Psi2S_mass_const_PY     : B_const_mass_psi2S_PY
  #
  B_DTF_PV_Jpsi_mass_const_PZ       : B_const_mass_PZ
  Lb_DTF_PV_Jpsi_mass_const_PZ      : B_const_mass_PZ
  B_DTF_PV_Psi2S_mass_const_PZ      : B_const_mass_psi2S_PZ
  Lb_DTF_PV_Psi2S_mass_const_PZ     : B_const_mass_psi2S_PZ
  #---------
  B_DTF_noPV_Jpsi_mass_const_M      : B_nopv_const_mass_M
  Lb_DTF_noPV_Jpsi_mass_const_M     : B_nopv_const_mass_M
  B_DTF_noPV_Psi2S_mass_const_M     : B_nopv_const_mass_psi2S_M
  Lb_DTF_noPV_Psi2S_mass_const_M    : B_nopv_const_mass_psi2S_M
  #
  B_DTF_noPV_Jpsi_mass_const_PX     : B_nopv_const_mass_PX
  Lb_DTF_noPV_Jpsi_mass_const_PX    : B_nopv_const_mass_PX
  B_DTF_noPV_Psi2S_mass_const_PX    : B_nopv_const_mass_psi2S_PX
  Lb_DTF_noPV_Psi2S_mass_const_PX   : B_nopv_const_mass_psi2S_PX
  #
  B_DTF_noPV_Jpsi_mass_const_PY     : B_nopv_const_mass_PY
  Lb_DTF_noPV_Jpsi_mass_const_PY    : B_nopv_const_mass_PY
  B_DTF_noPV_Psi2S_mass_const_PY    : B_nopv_const_mass_psi2S_PY
  Lb_DTF_noPV_Psi2S_mass_const_PY   : B_nopv_const_mass_psi2S_PY
  #
  B_DTF_noPV_Jpsi_mass_const_PZ     : B_nopv_const_mass_PZ
  Lb_DTF_noPV_Jpsi_mass_const_PZ    : B_nopv_const_mass_PZ
  B_DTF_noPV_Psi2S_mass_const_PZ    : B_nopv_const_mass_psi2S_PZ
  Lb_DTF_noPV_Psi2S_mass_const_PZ   : B_nopv_const_mass_psi2S_PZ
  #---------
  L1_PID_E                          : L1_PIDe
  L2_PID_E                          : L2_PIDe
  K_PID_E                           : H_PIDe
  K_PROBNN_K                        : H_ProbNNk
  K_TRGHOSTPROB                     : H_TRACK_GhostProb
  H1_PROBNN_K                       : H1_ProbNNk
  H2_PROBNN_K                       : H2_ProbNNk
  L1_TRGHOSTPROB                    : L1_TRACK_GhostProb
  L2_TRGHOSTPROB                    : L2_TRACK_GhostProb
  L1_PID_MU                         : L1_PIDmu
  L2_PID_MU                         : L2_PIDmu
  L1_ISMUON                         : L1_isMuon
  L2_ISMUON                         : L2_isMuon
  B_BPVFDCHI2                       : B_FDCHI2_OWNPV
  H_BPVIPCHI2                       : H_IPCHI2_OWNPV
  Jpsi_BPVIPCHI2                    : Jpsi_IPCHI2_OWNPV
  L1_BPVIPCHI2                      : L1_IPCHI2_OWNPV
  L2_BPVIPCHI2                      : L2_IPCHI2_OWNPV
  Jpsi_BPVDIRA                      : Jpsi_DIRA_OWNPV
  B_BPVDIRA                         : B_DIRA_OWNPV
  B_BPVIPCHI2                       : B_IPCHI2_OWNPV
  B_END_VZ                          : B_ENDVERTEX_Z
  B_CHI2                            : B_ENDVERTEX_CHI2
  L1_ENERGY                         : L1_PE
  L2_ENERGY                         : L2_PE
  L2_HASBREM                        : L2_BremMultiplicity
  B_FDCHI2_OWNPV                    : B_BPVFDCHI2
  B_IPCHI2_OWNPV                    : B_BPVIPCHI2
  Jpsi_FDCHI2_OWNPV                 : Jpsi_BPVFDCHI2
  Jpsi_IPCHI2_OWNPV                 : Jpsi_BPVIPCHI2
  H_IPCHI2_OWNPV                    : H_BPVIPCHI2
  L1_IPCHI2_OWNPV                   : L1_BPVIPCHI2
  L2_IPCHI2_OWNPV                   : L2_BPVIPCHI2
  B_DIRA_OWNPV                      : B_BPVDIRA
  Jpsi_DIRA_OWNPV                   : Jpsi_BPVDIRA
  B_ENDVERTEX_Z                     : B_END_VZ
  B_ENDVERTEX_CHI2                  : B_CHI2
  L1_PE                             : L1_ENERGY
  L2_PE                             : L2_ENERGY
  L1_BremMultiplicity               : L1_HASBREM
  L2_BremMultiplicity               : L2_HASBREM
hlt_lines:
  lines_phys_ee_mva:
    - Hlt2RD_BuToKpEE_MVA
    - Hlt2RD_B0ToKpPimEE_MVA
    - Hlt2RD_LbTopKEE_MVA
    - Hlt2RD_BsToPhiEE_MVA
  lines_phys_mm_mva:
    - Hlt2RD_BuToKpMuMu_MVA
    - Hlt2RD_B0ToKpPimMuMu_MVA
    - Hlt2RD_LbTopKMuMu_MVA
    - Hlt2RD_BsToPhiMuMu_MVA
  lines_phys_ee_cut:
    - Hlt2RD_BuToKpEE
    - Hlt2RD_B0ToKpPimEE
    - Hlt2RD_LbToLEE_LL
  lines_phys_mm_cut:
    - Hlt2RD_BuToKpMuMu
    - Hlt2RD_B0ToKpPimMuMu
    - Hlt2RD_LbToLMuMu_LL
selection:
  prescale: 1
  cuts:
    any:
      L1Ghost: L1_TRGHOSTPROB < 0.5
      L2Ghost: L2_TRGHOSTPROB < 0.5
    bukee:
      b_mass: B_const_mass_M > 4500 && B_const_mass_M < 6000
      KpGhost: H_TRGHOSTPROB  < 0.5
    bukmm:
      b_mass: B_const_mass_M > 5000 && B_const_mass_M < 5800
      KpGhost: H_TRGHOSTPROB  < 0.5
    bdkstee:
      b_mass: B_const_mass_M > 4500 && B_const_mass_M < 6000
      k_mass: Kst_M    >  800 && Kst_M   < 1000
      H1Ghost: H1_TRGHOSTPROB < 0.5
      H2Ghost: H2_TRGHOSTPROB < 0.5
    bdkstmm:
      b_mass: B_const_mass_M > 5000 && B_const_mass_M < 5800
      k_mass: Kst_M    >  800 && Kst_M   < 1000
      H1Ghost: H1_TRGHOSTPROB < 0.5
      H2Ghost: H2_TRGHOSTPROB < 0.5
    lbpkee:
      b_mass: B_const_mass_M > 4500 && B_const_mass_M < 6000
    lbpkmm:
      b_mass: B_const_mass_M > 5000 && B_const_mass_M < 5800
saving:
  max_events  : -1
  compression : 2
  store_branch: false
  tree_name:
    KEE:
      - Hlt2RD_BuToKpEE_MVA
      - Hlt2RD_B0ToKpPimEE_MVA
      - Hlt2RD_LbTopKEE_MVA
      - Hlt2RD_BsToPhiEE_MVA
      - Hlt2RD_BuToKpEE
      - Hlt2RD_B0ToKpPimEE
      - Hlt2RD_LbToLEE_LL
    KMM:
      - Hlt2RD_BuToKpMuMu_MVA
      - Hlt2RD_B0ToKpPimMuMu_MVA
      - Hlt2RD_LbTopKMuMu_MVA
      - Hlt2RD_BsToPhiMuMu_MVA
      - Hlt2RD_BuToKpMuMu
      - Hlt2RD_B0ToKpPimMuMu
      - Hlt2RD_LbToLMuMu_LL
